.ml-form-embedBody .ml-form-embedSubmit button:hover {
        background-color: #847d8f !important;
        }
        .ml-subscribe-close {
        width: 30px;
        height: 30px;
        background:
        url('https://assets.mlcdn.com/ml/images/default/modal_close.png') no-repeat;
        background-size: 30px;
        cursor: pointer;
        margin-top: -10px;
        margin-right: -10px;
        position: absolute;
        top: 0;
        right: 0;
        }
        .ml-error input, .ml-error textarea, .ml-error select {
        border-color: red!important;
        }
        .ml-error .custom-checkbox-radio-list {
        border: 1px solid red !important;
        border-radius: 4px;
        padding: 10px;
        }
        .ml-error .label-description,
        .ml-error .label-description p,
        .ml-error .label-description p a,
        .ml-error label:first-child {
        color: #ff0000 !important;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-checkboxRow.ml-error .label-description p,
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-checkboxRow.ml-error .label-description
        p:first-letter {
        color: #ff0000 !important;
        }
        @media only screen and (max-width: 400px){
        .ml-form-embedWrapper.embedDefault, .ml-form-embedWrapper.embedPopup {
        width: 100%!important; }
        .ml-form-formContent.horozintalForm { float: left!important; }
        .ml-form-formContent.horozintalForm .ml-form-horizontalRow { height:
        auto!important; width: 100%!important; float: left!important; }
        .ml-form-formContent.horozintalForm .ml-form-horizontalRow
        .ml-input-horizontal { width: 100%!important; }
        .ml-form-formContent.horozintalForm .ml-form-horizontalRow
        .ml-input-horizontal > div { padding-right: 0px!important; padding-bottom:
        10px; }
        .ml-form-formContent.horozintalForm .ml-button-horizontal { width:
        100%!important; }
        .ml-form-formContent.horozintalForm .ml-button-horizontal.labelsOn {
        padding-top: 0px!important; }
        }
        </style>
        <style type="text/css">
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-interestGroupsRow {
        margin-bottom: 20px;
        text-align: left;
        float: left;
        width: 100%;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-interestGroupsRow
        .ml-form-interestGroupsRowCheckbox {
        margin: 0 0 10px 0;
        width: 100%;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-interestGroupsRow
        .ml-form-interestGroupsRowCheckbox.last-group {
        margin: 0;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-interestGroupsRow h4 {
        color: ;
        font-family: ;
        font-size: px;
        font-weight: ;
        line-height: px;
        margin: 0 0 10px 0;
        text-align: left;
        word-break: break-word;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-interestGroupsRow
        .ml-form-interestGroupsRowCheckbox label {
        font-weight: normal;
        margin: 0;
        padding: 0;
        position: relative;
        display: block;
        min-height: 24px;
        padding-left: 24px;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-interestGroupsRow
        .ml-form-interestGroupsRowCheckbox .label-description {
        color: #000000;
        font-family: 'Open Sans', Arial, Helvetica, sans-serif;
        font-size: 12px;
        line-height: 18px;
        text-align: left;
        margin-bottom: 0;
        position: relative;
        vertical-align: top;
        font-style: normal;
        font-weight: 700;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-interestGroupsRow
        .ml-form-interestGroupsRowCheckbox .description {
        color: #000000;
        font-family: 'Open Sans', Arial, Helvetica, sans-serif;
        font-size: 12px;
        font-style: italic;
        font-weight: 400;
        line-height: 18px;
        margin: 5px 0 0 0;
        text-align: left;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-interestGroupsRow
        .ml-form-interestGroupsRowCheckbox input[type="checkbox"] {
        box-sizing: border-box;
        padding: 0;
        position: absolute;
        z-index: -1;
        opacity: 0;
        margin-top: 5px;
        margin-left: -1.5rem;
        overflow: visible;
        }
        </style>
        <style type="text/css">
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-embedPermissions { text-align: left; float: left;
        width: 100%; }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedPermissionsContent {
        margin: 0 0 15px 0;
        text-align: left;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-embedPermissions
        .ml-form-embedPermissionsContent.horizontal {
        margin: 0 0 15px 0;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedPermissionsContent
        h4 {
        color: #000000;
        font-family: 'Open Sans', Arial, Helvetica, sans-serif;
        font-size: 12px;
        font-weight: 700;
        line-height: 18px;
        margin: 0 0 10px 0;
        word-break: break-word;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedPermissionsContent p
        {
        color: #000000;
        font-family: 'Open Sans', Arial, Helvetica, sans-serif;
        font-size: 12px;
        line-height: 18px;
        margin: 0 0 10px 0;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-embedPermissions
        .ml-form-embedPermissionsContent.privacy-policy p {
        color: #B26A43;
        font-family: 'Noto Sans', sans-serif;
        font-size: 12px;
        line-height: 22px;
        margin: 0 0 10px 0;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-embedPermissions
        .ml-form-embedPermissionsContent.privacy-policy p a {
        color: #B26A43;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-embedPermissions
        .ml-form-embedPermissionsContent.privacy-policy p:last-child {
        margin: 0;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedPermissionsContent p
        a {
        color: #000000;
        text-decoration: underline;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedPermissionsContent
        p:last-child { margin: 0 0 15px 0; }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedPermissionsOptions {
        margin: 0;
        padding: 0;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-embedPermissions
        .ml-form-embedPermissionsOptionsCheckbox {
        margin: 0 0 10px 0;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-embedPermissions
        .ml-form-embedPermissionsOptionsCheckbox:last-child {
        margin: 0;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-embedPermissions
        .ml-form-embedPermissionsOptionsCheckbox label {
        font-weight: normal;
        margin: 0;
        padding: 0;
        position: relative;
        display: block;
        min-height: 24px;
        padding-left: 24px;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-embedPermissions
        .ml-form-embedPermissionsOptionsCheckbox .label-description {
        color: #000000;
        font-family: 'Noto Sans', sans-serif;
        font-size: 14px;
        line-height: 20px;
        text-align: left;
        margin-bottom: 0;
        position: relative;
        vertical-align: top;
        font-style: normal;
        font-weight: 700;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-embedPermissions
        .ml-form-embedPermissionsOptionsCheckbox .description {
        color: #000000;
        font-family: 'Open Sans', Arial, Helvetica, sans-serif;
        font-size: 12px;
        font-style: italic;
        font-weight: 400;
        line-height: 18px;
        margin: 5px 0 0 0;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-embedPermissions
        .ml-form-embedPermissionsOptionsCheckbox input[type="checkbox"] {
        box-sizing: border-box;
        padding: 0;
        position: absolute;
        z-index: -1;
        opacity: 0;
        margin-top: 5px;
        margin-left: -1.5rem;
        overflow: visible;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedMailerLite-GDPR {
        padding-bottom: 20px;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedMailerLite-GDPR p {
        color: #000000;
        font-family: 'Open Sans', Arial, Helvetica, sans-serif;
        font-size: 10px;
        line-height: 14px;
        margin: 0;
        padding: 0;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedMailerLite-GDPR p a
        {
        color: #000000;
        text-decoration: underline;
        }
        @media (max-width: 768px) {
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedPermissionsContent p
        {
        font-size: 12px !important;
        line-height: 18px !important;
        }
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper
        .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedMailerLite-GDPR p {
        font-size: 10px !important;
        line-height: 14px !important;
        }
        }
    </style>
    <style>
        body { 
            font-family: 'Noto Sans', sans-serif; 
            background-color: #f4f4f4; 
            padding: 20px; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            min-height: 100vh;
            margin: 0;
        }
        .container {
            max-width: 600px;
            width: 100%;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            background-color: white;
            border-radius: 8px;
        }
        /* Override MailerLite's wrapper background to show the white container */
        #mlb2-32107971.ml-form-embedContainer .ml-form-embedWrapper {
            background-color: transparent; 
        }
    </style>
</head>
<body>
<div class="container">
    <header style="text-align: center; margin-bottom: 20px;">
        <h1 style="color: #463A2B;">Serenity Sketch Demo</h1>
        <p style="color: #716D77;">High-speed landing page for your paid campaigns.</p>
    </header>

    <div id="mlb2-32107971" class="ml-form-embedContainer
    ml-subscribe-form ml-subscribe-form-32107971">
    <div class="ml-form-align-center ">
    <div class="ml-form-embedWrapper embedForm">
    <div class="ml-form-embedBody ml-form-embedBodyDefault
    row-form">
    <div class="ml-form-embedContent" style=" ">
    <h4>Play the Serenity Sketch demo</h4>
    <p>Enter your email address, and we'll send you the demo
    link.</p>
    <p>Please indicate which platforms will you be playing on, with the
    checkboxes.<br></p>
    <p>You may also, optionally, subscribe to our newsletter by
    checking the appropriate box at the bottom.</p>
    </div>
    <form class="ml-block-form"
    action="https://assets.mailerlite.com/jsonp/1239190/forms/168317677532611861/subscribe"
    data-code="" method="post" target="_blank">
    <div class="ml-form-formContent">
    <div class="ml-form-fieldRow ">
    <div class="ml-field-group ml-field-email ml-validate-email
    ml-validate-required">
    <input aria-label="email" aria-required="true"
    type="email" class="form-control"
    data-inputmask="" name="fields[email]"
    placeholder="Email" autocomplete="email">
    </div>
    </div><div class="ml-form-fieldRow ">
    <div class="ml-field-group ml-field-device
    ml-validate-required">
    <div class="custom-checkbox-radio-list">
    <div class="custom-control custom-checkbox">
    <input name="fields[device][]" aria-label="device"
    aria-required="true" class="custom-control-input"
    type="checkbox" value="PC"
    id="checkbox-32107971-13-0">
    <label class="custom-control-label"
    for="checkbox-32107971-13-0">
    PC
    </label>
    </div>
    <div class="custom-control custom-checkbox">
    <input name="fields[device][]" aria-label="device"
    aria-required="true" class="custom-control-input"
    type="checkbox" value="iPad"
    id="checkbox-32107971-13-1">
    <label class="custom-control-label"
    for="checkbox-32107971-13-1">
    iPad
    </label>
    </div>
    <div class="custom-control custom-checkbox">
    <input name="fields[device][]" aria-label="device"
    aria-required="true" class="custom-control-input"
    type="checkbox" value="iPhone mobile"
    id="checkbox-32107971-13-2">
    <label class="custom-control-label"
    for="checkbox-32107971-13-2">
    iPhone mobile
    </label>
    </div>
    <div class="custom-control custom-checkbox">
    <input name="fields[device][]" aria-label="device"
    aria-required="true" class="custom-control-input"
    type="checkbox" value="Android mobile"
    id="checkbox-32107971-13-3">
    <label class="custom-control-label"
    for="checkbox-32107971-13-3">
    Android mobile
    </label>
    </div>
    <div class="custom-control custom-checkbox">
    <input name="fields[device][]" aria-label="device"
    aria-required="true" class="custom-control-input"
    type="checkbox" value="Nintendo Switch"
    id="checkbox-32107971-13-4">
    <label class="custom-control-label"
    for="checkbox-32107971-13-4">
    Nintendo Switch
    </label>
    </div>
    </div>
    </div>
    </div><div class="ml-form-fieldRow ">
    <div class="ml-field-group ml-field-gclid">
    <input aria-label="gclid" type="text"
    class="form-control" data-inputmask=""
    name="fields[gclid]" placeholder="gclid"
    autocomplete="">
    </div>
    </div><div class="ml-form-fieldRow ">
    <div class="ml-field-group ml-field-fbclid">
    <input aria-label="fbclid" type="text"
    class="form-control" data-inputmask=""
    name="fields[fbclid]" placeholder="fbclid"
    autocomplete="">
    </div>
    </div><div class="ml-form-fieldRow ">
    <div class="ml-field-group ml-field-rdt_cid">
    <input aria-label="rdt_cid" type="text"
    class="form-control" data-inputmask=""
    name="fields[rdt_cid]" placeholder="rdt_cid"
    autocomplete="">
    </div>
    </div><div class="ml-form-fieldRow ">
    <div class="ml-field-group ml-field-utm_source">
    <input aria-label="utm_source" type="text"
    class="form-control" data-inputmask=""
    name="fields[utm_source]" placeholder="utm_source"
    autocomplete="">
    </div>
    </div><div class="ml-form-fieldRow ">
    <div class="ml-field-group ml-field-utm_medium">
    <input aria-label="utm_medium" type="text"
    class="form-control" data-inputmask=""
    name="fields[utm_medium]" placeholder="utm_medium"
    autocomplete="">
    </div>
    </div><div class="ml-form-fieldRow ">
    <div class="ml-field-group ml-field-utm_content">
    <input aria-label="utm_content" type="text"
    class="form-control" data-inputmask=""
    name="fields[utm_content]" placeholder="utm_content"
    autocomplete="">
    </div>
    </div><div class="ml-form-fieldRow ml-last-item">
    <div class="ml-field-group ml-field-utm_campaign">
    <input aria-label="utm_campaign" type="text"
    class="form-control" data-inputmask=""
    name="fields[utm_campaign]" placeholder="utm_campaign"
    autocomplete="">
    </div>
    </div>
    </div>
    <div class="ml-form-embedPermissions" style="">
    <div class="ml-form-embedPermissionsContent default
    privacy-policy">
    <p>For more details, review our <a target="_blank"
    href="https://www.coppercoin.nl/data-privacy-policy">Privacy
    Policy</a>.</p>
    </div>
    </div>
    <div class="ml-form-embedPermissions"
    style="margin-bottom: 0px; padding-bottom: 5px;">
    <div class="ml-form-embedPermissionsContent default">
    <h4>Marketing Permissions</h4>
    <p>The information you provide on this form will only be used to
    provide you with updates and personalized marketing. By clicking below to
    submit, you acknowledge that the information you provide will be processed in
    accordance with our Privacy Policy.</p>
    <div class="ml-form-embedPermissionsOptions">
    </div>
    </div>
    </div>
    <div class="ml-form-interestGroupsRow ml-block-groups
    ml-validate-required">
    <div class="ml-form-interestGroupsRowCheckbox group"
    style="">
    <label>
    <input type="checkbox" name="groups[]"
    value="141069043096356340">
    <div class="label-description">Sign me up for the
    newsletter</div>
    </label>
    <div class="description">We will send you occasional
    emails about new Serenity Sketch features, demos, and other content, to keep
    you in the loop.</div>
    </div>
    <div class="ml-form-interestGroupsRowCheckbox last-group"
    style="display:none;">
    <label>
    <input type="hidden" name="groups[]"
    value="168259315507922211" checked="checked">
    <div class="label-description">Game Demo
    Leads</div>
    </label>
    </div>
    </div>
    <input type="hidden" name="ml-submit"
    value="1">
    <div class="ml-form-embedSubmit">
    <button type="submit" class="primary">Email me
    the demo</button>
    <button disabled="disabled" style="display: none;"
    type="button" class="loading">
    <div class="ml-form-embedSubmitLoad"></div>
    <span class="sr-only">Loading...</span>
    </button>
    </div>
    <input type="hidden" name="anticsrf"
    value="true">
    </form>
    </div>
    <div class="ml-form-successBody row-success"
    style="display: none">
    <div class="ml-form-successContent">
    <h4>Almost there! Check your Inbox</h4>
    <p style="text-align: center;">You will receive a
    confirmation email shortly.</p>
    <p style="text-align: center;"><strong>Action
    Required</strong>:&nbsp;Please click the button that
    says&nbsp;"Confirm your email, and get the Demo."</p>
    <p style="text-align: center;"><strong>Can't find
    it?</strong>&nbsp;Check your spam or junk folder.</p>
    <p style="text-align:
    center;"><strong><br></strong></p>
    <p style="text-align: center;"><strong>Next
    Step</strong>:&nbsp;You will be automatically&nbsp;redirected to
    the demo download.</p>
    <p style="text-align: center;">If you're not
    automatically redirected, <span><a
    href="https://www.coppercoin.nl/serenity-sketch/download-demo">click
    here</a></span>.</p>
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>

<script>
    // MailerLite Core Script (External) - Keep this
    fetch("https://assets.mailerlite.com/jsonp/1239190/forms/168317677532611861/takel");
</script>
<script src="https://groot.mailerlite.com/js/w/webforms.min.js?v176e10baa5e7ed80d35ae235be3d5024" type="text/javascript"></script>

<script>
    /**
    * ðŸ› ï¸ CORE UTILITY: UTM Capture & Helper Functions (with Debugging)
    * Fires ONCE on every page load (Initialization trigger).
    * 1. Captures UTMs/Click IDs from URL and saves to sessionStorage.
    * 2. Defines modular helper functions (ccUtm) for use by other tags.
    * 3. Includes console logs to debug Facebook (fbq) and Reddit (rdt) events.
    */
    (function() {
        // --- Configuration: Parameters to capture ---
        var KEYS_TO_CAPTURE = ['utm_source', 'utm_medium', 'utm_campaign',
        'utm_term', 'utm_content', 'utm_id', 'gclid', 'fbclid', 'rdt_cid',
        'r_clickid'];
        var SESSION_KEY = 'tracking_data';
        // 1. Initial UTM Capture & Session Storage (Runs ONCE)
        (function captureUtms() {
            if (typeof URLSearchParams !== 'function') return;
            var urlParams = new URLSearchParams(window.location.search);
            var trackingData = {};
            KEYS_TO_CAPTURE.forEach(function(key) {
                var value = urlParams.get(key);
                if (value) trackingData[key] = value;
            });
            // Merge with existing sessionStorage (to preserve previous UTMs)
            try {
                var existing = sessionStorage.getItem(SESSION_KEY);
                if (existing) {
                    trackingData = Object.assign(JSON.parse(existing), trackingData);
                }
            } catch(e) { /* silent fail for session storage parse */ }
            // Store in sessionStorage
            if (Object.keys(trackingData).length > 0) {
                sessionStorage.setItem(SESSION_KEY, JSON.stringify(trackingData));
                // console.log('[UTM Utility] Saved tracking data:', trackingData);
            }
        })();
        // 2. Define Global Helper Functions (Modularization)
        window.ccUtm = {
            getTrackingData: function() {
                try {
                    var raw = sessionStorage.getItem(SESSION_KEY);
                    return raw ? JSON.parse(raw) : {};
                } catch (e) {
                    return {};
                }
            },
            // Converts tracking data object to URL query string
            getQueryString: function() {
                var data = this.getTrackingData();
                var params = [];
                for (var key in data) {
                    if (data.hasOwnProperty(key)) {
                        params.push(key + '=' + encodeURIComponent(data[key]));
                    }
                }
                return params.join('&');
            },
            // Standardized event broadcast function (Now includes debug logs)
            broadcastEvent: function(eventName, customData) {
                var data = Object.assign(this.getTrackingData(), customData || {});
                // GA4
                if (typeof gtag === 'function') {
                    gtag('event', eventName, data);
                }
                // Facebook
                if (typeof fbq === 'function') {
                    fbq('trackCustom', eventName, data);
                    // ðŸ“¢ DEBUG LINE: Console log when FB custom event is fired
                    console.log('âœ… FBq Fired Custom Event:', eventName, data);
                }
                // Reddit
                if (window.rdt) {
                    // Standard event for optimization
                    window.rdt('track', 'Lead', data);
                    // Custom event for internal tracking
                    window.rdt('track', 'Custom', Object.assign({ customEventName: eventName }, data));
                    // ðŸ“¢ DEBUG LINE: Console log when RDT events are fired
                    console.log('âœ… RDT Fired Lead/Custom Event:', eventName, data);
                }
            }
        };
    })();
</script>

<script>
    /**
    * ðŸ“¤ MailerLite: Populate & Hide UTM Fields (Optimized)
    * Fires on DOM Ready and uses a single MutationObserver to catch dynamic forms.
    * Requires the 'UTM/MailerLite Utility Core' tag to fire first.
    */
    (function() {
        if (!window.ccUtm) return; // Ensure core utility loaded
        var FIELD_NAMES_TO_TARGET = [
        'utm_source', 'utm_medium', 'utm_campaign', 'utm_content', 'utm_term',
        'utm_id',
        'gclid', 'fbclid', 'rdt_cid', 'r_clickid'
        ];
        function populateAndHideFields(formContainer) {
            var dataObj = window.ccUtm.getTrackingData();
            var i, fullFieldName, field, parent;
            for (i = 0; i < FIELD_NAMES_TO_TARGET.length; i++) {
                var key = FIELD_NAMES_TO_TARGET[i];
                // 1. Populate
                if (dataObj.hasOwnProperty(key)) {
                    fullFieldName = 'fields[' + key + ']';
                    field = formContainer.querySelector('input[name="' + fullFieldName +
                    '"]');
                    if (field) {
                        field.value = dataObj[key];
                    }
                }
                // 2. Hide (If input field exists)
                fullFieldName = 'fields[' + key + ']';
                field = formContainer.querySelector('input[name="' + fullFieldName +
                '"]');
                if (field) {
                    parent = field.closest ? field.closest('.ml-field-group') : null;
                    if (parent) {
                        parent.style.display = 'none';
                    } else {
                        // Fallback to hide the input itself
                        field.style.display = 'none';
                    }
                }
            }
        }
        // --- Execution Logic: Only run when a form is present/added ---
        function initialize() {
            var forms = document.querySelectorAll('.ml-embedded,
            .ml-form-embedContainer, .ml-block-form, .ml-popup-block');
            forms.forEach(populateAndHideFields);
        }
        // Run once on DOM content loaded (for static forms)
        document.addEventListener('DOMContentLoaded', initialize);
        setTimeout(initialize, 500); // Small delay safety check
        // MutationObserver: Only listen for the addition of MailerLite form wrappers (Highly targeted)
        if (typeof MutationObserver !== 'undefined') {
            var observer = new MutationObserver(function(mutations, obs) {
                mutations.forEach(function(mutation) {
                    if (mutation.addedNodes) {
                        mutation.addedNodes.forEach(function(node) {
                            if (node.nodeType === 1 && (node.matches('.ml-embedded') ||
                            node.matches('.ml-popup-block'))) {
                                // Delay slightly for ML scripts to process
                                setTimeout(function() { populateAndHideFields(node); }, 100);
                            }
                        });
                    }
                });
            });
            // Only observe the body for newly added form wrappers
            observer.observe(document.body, { childList: true, subtree: true });
        }
    })();
</script>

<script>
    /**
    * ðŸš€ MailerLite Success Override (Optimized)
    * Overrides the ml_webform_success function.
    * Requires the 'UTM/MailerLite Utility Core' tag to fire first.
    */
    (function() {
        if (!window.ccUtm) return;
        var SUCCESS_FORM_ID = '32107971';
        // IMPORTANT: We will change this to the GitHub Pages download page in Step 3
        var SUCCESS_REDIRECT_URL =
        'github-download-page.html'; // Placeholder for the next GitHub Page
        var REDIRECT_DELAY_MS = 4000;
        var overrideAttempted = false;
        function waitForMailerLite() {
            if (overrideAttempted) return;
            var formId = SUCCESS_FORM_ID;
            var originalFunc = window['ml_webform_success_' + formId];
            if (typeof originalFunc === 'function') {
                window['ml_webform_success_' + formId] = function() {
                    // 1. Call original MailerLite animation
                    originalFunc();
                    // 2. Broadcast early-funnel signup event using centralized utility
                    window.ccUtm.broadcastEvent('demo_signup');
                    // 3. Build redirect URL with UTMs using centralized utility
                    var utmQuery = window.ccUtm.getQueryString();
                    var finalUrl = SUCCESS_REDIRECT_URL;

                    // This logic handles adding the query string correctly
                    if (utmQuery) {
                        finalUrl += (finalUrl.indexOf('?') >= 0 ? '&' : '?') + utmQuery;
                    }

                    // 4. Redirect after delay & clean session
                    setTimeout(function() {
                        window.location.href = finalUrl;
                        sessionStorage.removeItem('tracking_data');
                    }, REDIRECT_DELAY_MS);
                    return false;
                };
                overrideAttempted = true;
                // console.log('MailerLite success function successfully overridden.');
            } else {
                // Retry (Necessary polling for async MailerLite form)
                setTimeout(waitForMailerLite, 100);
            }
        }
        // Only one execution call is needed, relying on the polling loop
        waitForMailerLite();
    })();
</script>

</body>
</html>
